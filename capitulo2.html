<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Capítulo 2</title>
    <link rel="stylesheet" type="text/css" href="estilo.css"> 
    <style>
        #conteudo {
          width: 1500px;
          margin-right: auto;
          margin-left: auto;
          background-color: #252525;
          height: 9000px;
        }
      </style>
</head>
<body class="fundo2">
    <div id="conteudo">
    <h2><a href='index.html'>Voltar para a página principal</a></h2>
    <h1 class="h1">CAPÍTULO 02 - Integração com HTML</h1>
    <h3>2.2 Cabeçalhos, parágrafos e campos de formulário</h3>
      <img src="imagens/capitulo2/img1.png" alt="imagem" text="Imagem" width="615" height="404"/>
      <img src="imagens/capitulo2/img1_1.png" width="680" height="404"/>

      <p>&nbsp;</p>
        <table border="1">
        <tr>
          <td><img src="imagens/capitulo2/img2.png" /></td>
          <td><img src="imagens/capitulo2/img3.png" /></td>
          <td><img src="imagens/capitulo2/img4.png" /></td>
        </tr>
      </table>
    <hr>
    <h3>2.4 Métodos querySelector() e getElementById()</h3>
      <p>Para referenciar um elemento HTML identificado no documento, podemos utilizar os métodos <b><u>querySelector()</u></b> ou <b><u>getElementById()</u></b>. Esses métodos permitem referenciar qualquer elemento da página – como um campo de formulário, um parágrafo, um botão, uma imagem, entre outros. Com o método <b><u>getElementById()</u></b>, para que um elemento HTML seja referenciado, ele precisa conter um atributo <b>id</b>. Já o método <b><u>querySelector()</u></b> é mais amplo, e permite criar uma referência a um elemento HTML pela sua tag name, id ou classe. Observe os exemplos:</p>
      <img src="imagens/capitulo2/img5.png" />
      <p>Uma desvantagem do querySelector() é que ele não é suportado por versões antigas dos navegadores (navegadores lançados antes de 2008 ou 2009).<br> Para resolver isso surgiram os chamados “transpiladores” de código. O Babel (babeljs.io) é um dos principais softwares desse segmento para javaScript.</p>
      <p>Observe ainda, nos exemplos, que podemos armazenar a referência a um elemento em uma variável e depois obter a sua propriedade, como descrito a seguir:</p>
      <img src="imagens/capitulo2/img6.png" />
      <p>Ou, então, utilizar um único comando, acessando diretamente a propriedade que queremos obter, como a seguir.</p>
      <img src="imagens/capitulo2/img7.png" />
      <p>Se o programa trabalhar com o mesmo elemento mais de uma vez, é recomendado armazenar a localização dele em uma variável (exemplo de duas linhas). Caso contrário, você pode fazer uma referência direta a sua propriedade (exemplo de uma linha). Nos exemplos do livro, daremos preferência pelo uso dos comandos em duas linhas, a fim de padronizar o formato (facilitar o aprendizado). E os nomes de variáveis, em campos de formulários serão precedidos pelas letras in (input), e espaços de saída, quando identificados, serão precedidos por out (output).</p>
      <hr>
      <h3>2.5 Introdução a eventos e funções</h3>
      <p>Muito da programação JavaScript construída em páginas web é desenvolvida desta forma: elas são acionadas a partir da ocorrência de um evento. Quando o usuário executa uma ação, o programa responde ao evento do usuário com uma ou mais ações. O evento mais comum de ser programado para um formulário é o clique no botão submit. Mas há diversos outros, como modificar o conteúdo de um campo, clicar sobre um elemento da página, sair de um campo, carregar a página, entre outros. Mais detalhes sobre os eventos serão apresentados no capítulo 8.</p>
      <p>Para criar um evento e definir o que será executado quando este evento ocorrer, deve-se utilizar uma palavra reservada para indicar qual evento a linguagem ficará na “escuta”. A palavra reservada pode ser, por exemplo, <b><u>submit, change, click, blur ou load</u></b>. Para adicionar um ouvinte de evento a um elemento da página, utiliza-se o método <b><u>addEventListenert()</u></b>, com o evento e o nome de uma função ou uma arrow function (função de seta) com os comandos a serem executados. Observe a sintaxe desse método:</p>
      <img src="imagens/capitulo2/img8.png" />
      <hr>
      <h3>2.6 Propriedades innerText, innerHTML e value</h3>
      <p>As propriedades <b><u>value</b></u> e <b><u>innerText</b></u> serão utilizadas em praticamente todos os programas desenvolvidos neste e nos demais capítulos. </p>
      <p>A propriedade <b><u>value</b></u> obtém ou altera o conteúdo de um campo de formulário HTML. Portanto, para obter o nome do usuário informado no Exemplo 2.1, é preciso utilizar essa propriedade.</p>
      <p>Já a propriedade <b><u>innerText</b></u> serve para alterar ou obter o conteúdo de elementos de texto do documento identificados no código HTML. É possível, portanto, alterar o texto de qualquer parágrafo ou texto de cabeçalho em uma página web utilizando essa propriedade.</p>
      <p>Há também a propriedade <b><u>innerHTML</b></u>, semelhante a <b><u>innerText</b></u> quanto aos elementos em que atua, porém renderiza os códigos HTML existentes no seu conteúdo. A Tabela 2.1 destaca a diferença entre as propriedades <b><u>innerText, innerHTML e value</b></u>.</p>
      <p align="center">Tabela 2.1 – Comparativo entre as propriedades innerText, InnerHTML e value</p>
        <table border="1" style="color: yellow;">
          <tr>
            <td>innerText</td>
            <td>Consulta ou altera o texto exibido por elementos HTML como parágrafos (p), cabeçalhos (h1, h2,...) ou containers (span, div).</td>
          </tr>
         <tr>
            <td>innerHTML</td>
            <td>Consulta ou altera o conteúdo de elementos HTML como parágrafos (p), cabeçalhos (h1, h2,...) ou containers (span, div). Códigos HTML presentes no conteúdo são renderizados pelo navegador.</td>
          </tr>
          <tr>
            <td>value</td>
            <td>Consulta ou altera o conteúdo de campos de formulário.</td>
          </tr>
        </table>
      <p>A propriedade innerHTML pode apresetar algum risco relacionado à segurança na construção de páginas web em um tipo de ataque denominado XSS (Cross-Site Scripting). Para evitar esse problema, é necessário filtrar os dados de entrada de um site. Caso o conteúdo a ser exibido na página pelo programa não contenha dados informados pelo usuário, não há riscos em utilizar o innerHTML.</p>
      <p>As propriedades <b><u>textContent </b></u> ou <b><u>outerText </b></u> são semelhantes ao <b><u>innerText </b></u>. Sinta-se à vontade, se preferir utilizá-las no lugar de <b><u>innerText</b></u>.</p>
      <hr>
      <h3>2.7 Método preventDefault()</h3>  
      <p>Por padrão, quando o usuário clica sobre o botão submit de um formulário, uma ação de envio dos dados desse form é executada. Isso faz um reload da página, e tanto o conteúdo dos campos do form quanto das respostas exibidas pelo programa são perdidas. O método preventDefault() previne esse comportamento default do botão submit. Observe que ele é aplicado sobre um event passado por parâmetro (e) na construção da arrow function. Esse assunto de passagem de parâmetros será abordado no capítulo 8.</p>
      <p>Neste capitulo, novos termos foram utilizados na descrição dos programas, como objeto, método e propriedade. Observe a seguir, de uma forma resumida, o que cada um deles representa em um programa.</p>
      <p>OBJETO - representa uma instância de uma classe.</p>
      <p>MÉTODO - representa uma instrução ou um conjunto de instruções que executam uma tarrefa.</p>
      <p>PROPRIEDADE - representa uma característica (atributo) de um objeto.</p>
      <p>No exemplo 2.1 abaixo, utilizamos o objeto <b><u>document</u></b>, que a partir da execução do método <b><u>querySelector()</u></b> pode referenciar as tags <b><u>form</u></b> e <b><u>h3</u></b> da página. Já a propriedade <b><u>value</u></b> é utilizada para obter o conteúdo digitado no campo de formulário. A propriedade <b><u>innerText</u></b>, por sua vez, altera um atributo do documento, que faz com que a resposta seja exibida na página.</p>
      <img src="imagens/capitulo2/img9.png" />
      <hr>
      <h3>2.8 Operadores aritméticos e funções matemáticas</h3>
      <p>Operadores de adição (+), subtração (-), multiplicação (*), divisão (/) e exponenciação (**), módulo (%). O módulo é utilizado para obter o resto da divisão entre dois números. Observe as seguintes expressões matemáticas:</p>
      <p>Const a = 5 % 2   // a = 1 <br>Const b = 7 % 4  // b  = 3</p>
      <p>Na primeira expressão, a variável a recebe 1 porque 5 dividido 2 é 2 e o resto é 1. Na segunda expressão, a variável b recebe 3 porque 7 dividido por 4 é 1 e o resto da divisão é 3.</p>
      <p>Outros cálculos como raiz quadrada, seno e cosseno podem ser obtidos em JavaScript com o uso das funções matemáticas da classe <b><i>Math</i></b>. A Tabela 2.2 apresenta as principais funções matemáticas da linguagem e destaca um exemplo explicado no livro no qual cada função é utilizada.</p>
      <p align="center">Tabela 2.2 – Principais funções matemáticas da classe Math</p>
        <table border="1" style="color: yellow;">
          <tr>
            <td>Math.abs(num)</td>
            <td>Retorna o valor absoluto de um número, ou seja, se o valor for negativo, ele será convertido para positivo. Se positivo, o valor permanece o mesmo.<br>Exemplo: Math.abs(-3) => 3<br> Veja uma aplicação de Math.abs() no Exemplo 8.3</td>
          </tr>
         <tr>
            <td>Math.ceil(num)</td>
            <td>Arredonda o valor para cima. Dessa form, se o valor possuir decimais, retorna o próximo número inteiro do valor analisado.<br>Exemplo: math.ceil(4.2) => 5<br>Veja uma aplicação de Math.ceil() no Exemplo 9.2</td>
          </tr>
          <tr>
            <td>Math.floor(num)</td>
            <td>Arredonda o valor para baixo, retornando a parte inteira do número.<br> Exemplo: Math.floor(7.9) => 7<br> Veja uma aplicação de Math.floor() no Exmeplo 2.2</td>
          </tr>
          <tr>
            <td>Math.pow(base, exp)</td>
            <td>Retorna a base elevada ao expoente.<br>Exemplo: Math.pow(3, 2) => 9<br>Veja uma aplicação de Math.pow() no Exemplo 3.2</td>
          </tr>
          <tr>
            <td>Math.random()</td>
            <td>Retorna um número aleatório entre 0 e 1, com várias casas decimais. O número aleatório possível inicia em 0 e vai até um valor inferior a 1.<br>Exemplo: Math.random() => 0.6501314074022906<br>Veja uma aplicação de Math.random() no jogo do Exemplo 5.2</td>
          </tr>
          <tr>
            <td>Math.round(num)</td>
            <td>Arredonda o valor para o inteiro mais próximo. A partir de .5 na parte fracionária, o valor é arredondado para cima. Antrior a .5, é arredondado para baixo.<br> Exemplo: Math.round(2.7) => 3<br>Veja uma aplicação de Math.round() no Exemplo 6.10</td>
          </tr>
          <tr>
            <td>Math.sqrt(num)</td>
            <td>Retorna a raiz quadrada do número (square root).<br>Exemplo: math.sqrt(16) => 4<br>Veja uma aplicação de Math.sqrt() no Exemplo 3.5</td>
          </tr>
        </table>
      <p>Ao criar expressões matemáticas, devemos ter o cuidado com a ordem de precedência dos operadores.</p>  
      <p>Os parênteses redefinem a ordem das prioridades. Podem ser utilizados vários conjuntos de parênteses em uma mesma expressão.</p>
      <p>As funções matemáticas ou funções criadas pelo usuário têm prioridades sobre os demais operadores aritméticos.<br>Exemplo: Math.sqrt(9) * 8 / 2<br>Cálculo(1): 3 * 8 / 2<br>Cálculo(2): 24 * 2<br>Resultado: 12</p>
      <p>Os operadores de multiplicação, subtração e módulo têm prioridade sobre os operadores de adição e subtração.</p>
      <p>Caso uma expressão contenha operadores de mesmo nível de hierarquia, o resultado é calculado da esquerda para a direita.</p>
      <p>Caso tenhamos uma expressão matemática complexa em um programa, podemos dividi-la em fórmulas menores, atribuídas a variáveis que armazenam os valores de cada parte da expressão. Como cada variável ocupa um espaço de memória, isso também implica um consumo maior de memória. Contudo, deve-se analisar cada caso e, dependendo da situação, optar pela forma que privilegia um melhor entendimento dos cálculos de um sistema.</p>
      <p>Para realizar testes e verificar o resultado de fórmulas que utilizam operadores aritméticos de diferentes níveis de hierarquia, pode-se recorrer a um editor online, como visto no capítulo 1, e utilizar o método <b><i>alert()</i></b>. Observe o exemplo a seguir.</p>
      <img src="imagens/capitulo2/img10.png" />
      <p>Faça alguns testes de fórmulas e verifique o valor exibido pelo <b>alert()</b> para sanar possíveis dúvidas.</p>

      <hr>
      <h3>2.9 Exemplos de programas JavaScript integrados com HTML</h3>
      <p>Além da parte da integração com HTML, vamos utilizar as funções matemáticas e o operador módulo em diversos programas.</p>
      <p><i>a) Elaborar um programa para um Cinema, que leia o título e a duração de um filme em minutos. Exiba o título do filme e converta a duração para horas e minutos, conforme o exemplo da figura a seguir. </i></p>
      <img src="imagens/capitulo2/img11.png" />
      <p>Abaixo o código fonte do arquivo HTML e do JavaScript.</p>
      <img src="imagens/capitulo2/img12.png" alt="imagem do código HTML">
      <p>Observe que aos campos de formulário foi adicionado um parâmetro <b><i>required</i></b>, que, como o nome sugere, indica que esse campo é de preenchimento obrigatório.</p>
      <img src="imagens/capitulo2/img13.png" alt="imagem do código JavaScript">
      <p>Para converter a duração em horas e minutos, foi utilizada a função <i><b>Math.floor()</b></i>  e o operador módulo <i><b>%</b></i>. Como destacado neste capítulo, <i><b>Math.floor</b></i> arredonda um valor para baixo e % retorna o resto da divisão entre dois números. Eles são necessários nesse programa. Vamos usar os dados de entrada do exemplo: 108 / 60 resulta em 1.8; <i><b>Math.floor()</b></i>  retorna 1, que é o número de horas do filme. Para obter os minutos, usamos 108 % 60, que resulta em 48, que são os minutos restantes da duração.</p>
      <br>
      <p><i>b) Elaborar um programa para uma revenda de veículos. O programa deve ler modelo e preço do veículo. Apresentar como resposta o valor de entrada (50%) e o saldo em 12x. A imagem a seguir ilustra uma execução desse programa.</i></p>
      <img src="imagens/capitulo2/img14.png" alt="imagem da tela de inicio Revenda de veículos">
      <img src="imagens/capitulo2/img15.png" alt="imagem digitando informações sobre o nome e valor do carro na página inicial Revenda de veículos"><br>
      <img src="imagens/capitulo2/img16.png" alt="imagem do código da página em HTML">
      <img src="imagens/capitulo2/img17.png" alt="imagem do código da página em JavaScript">
      <p>Os cálculos para obter o valor da entrada e das parcelas podem ser feitos de várias maneiras. Considerando que a entrada é 50%, poderíamos também dividir  o preço por 2. Para o cálculo das parcelas, também poderíamos utilizar a própria variável entrada e dividir por 12.</p>

      <p>*Parei na página 56.</p>

    </div>
</body>
</html>